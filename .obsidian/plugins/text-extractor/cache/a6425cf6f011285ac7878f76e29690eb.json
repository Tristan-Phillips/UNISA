{"path":"UNISA/98906 - BSc Science in Computing/INF3707 - Database Design and Implementation/Unsorted/INF3707/INF3707 Exam pack/Exam Shit/Materials/4_6021832427196908659.pdf","text":"5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 1 /19 O r a c l e D a t a b a se / S Q L C h e a t sh e e t T h is \" c h e a t s h e e t \" c o v e r s m o s t o f t h e b a s ic f u n c t io n a lit y t h a t a n O r a c le D B A n e e d s t o r u n b a s ic q u e r ie s a n d p e r f o r m b a s ic t a s k s . I t a ls o c o n t a in s in f o r m a t io n t h a t a P L / S Q L p r o g r a m m e r f r e q u e n t ly u s e s t o w r it e s t o r e d p r o c e d u r e s . T h e r e s o u r c e is u s e f u l a s a p r im e r f o r in d iv id u a ls w h o a r e n e w t o O r a c le , o r a s a r e f e r e n c e f o r t h o s e w h o a r e e x p e r ie n c e d a t u s in g O r a c le . A g r e a t d e a l o f in f o r m a t io n a b o u t O r a c le e x is t s t h r o u g h o u t t h e n e t . W e d e v e lo p e d t h is r e s o u r c e t o m a k e it e a s ie r f o r p r o g r a m m e r s a n d D B A s t o f in d m o s t o f t h e b a s ic s in o n e p la c e . T o p ic s b e y o n d t h e s c o p e o f a \" c h e a t s h e e t \" g e n e r a lly p r o v id e a lin k t o f u r t h e r r e s e a r c h . O t h e r O r a c l e R e f e r e n c e s O r a c le X M L R e fe r e n c e — th e X M L r e fe r e n c e is s till in its in fa n c y , b u t is c o m in g a lo n g n ic e ly . T h e S E L E C T s t a t e m e n t is u s e d t o r e t r ie v e r o w s s e le c t e d f r o m o n e o r m o r e t a b le s , o b je c t t a b le s , v ie w s , o b je c t v ie w s , o r m a t e r ia lize d v ie w s . S E L E C T * F R O M b e v e r a g e s W H E R E f i e l d 1 = ' K o n a ' A N D f i e l d 2 = ' c o f f e e ' A N D f i e l d 3 = 1 2 2 ; S e le c t in t o t a k e s t h e v a lu e s n a m e , a d d r e s s a n d p h on e n u m b e r o u t o f t h e t a b le e m p loy e e , a n d p la c e s t h e m in t o t h e v a r ia b le s v _ e m p loy e e _ n a m e , v _ e m p loy e e _ a d d r e s s , a n d v _ e m p loy e e _ p h on e _ n u m b e r . T h is on ly w o r k s if t h e q u e r y m a t c h e s a s in g le it e m . I f t h e q u e r y r e t u r n s n o r o w s it r a is e s t h e N O _ D A T A _ F O U N D b u ilt - in e x c e p t io n . I f y o u r q u e r y r e t u r n s m o r e t h a n o n e r o w , O r a c le r a is e s t h e e x c e p t io n T O O _ M A N Y _ R O W S . S E L E C T n a m e , a d d r e s s , p h o n e _ n u m b e r I N T O v _ e m p l o y e e _ n a m e , v _ e m p l o y e e _ a d d r e s s , v _ e m p l o y e e _ p h o n e _ n u m b e r F R O M e m p l o y e e W H E R E e m p l o y e e _ i d = 6 ; T h e I N S E R T s t a t e m e n t a d d s o n e o r m o r e n e w r o w s o f d a t a t o a d a t a b a s e t a b le . i n se r t u si n g t h e V A L U E S k e y w o r d I N S E R T I N T O t a b l e _ n a m e V A L U E S ( ' V a l u e 1 ' , ' V a l u e 2 ' , . . . ) ; I N S E R T I N T O t a b l e _ n a m e ( C o l u m n 1 , C o l u m n 2 , . . . ) V A L U E S ( ' V a l u e 1 ' , ' V a l u e 2 ' , . . . ) ; S E L E C T S E L E C T IN T O IN S E R T 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 2 /19 i n se r t u si n g a S E L E C T st a t e m e n t I N S E R T I N T O t a b l e _ n a m e ( S E L E C T V a l u e 1 , V a l u e 2 , . . . f r o m t a b l e _ n a m e ) ; I N S E R T I N T O t a b l e _ n a m e ( C o l u m n 1 , C o l u m n 2 , . . . ) ( S E L E C T V a l u e 1 , V a l u e 2 , . . . f r o m t a b l e _ n a m e ) ; T h e D E L E T E s t a t e m e n t is u s e d t o d e le t e r o w s in a t a b le . d e l e t e s r o w s t h a t m a t c h t h e c r i t e r i a D E L E T E F R O M t a b l e _ n a m e W H E R E s o m e _ c o l u m n = s o m e _ v a l u e D E L E T E F R O M c u s t o m e r W H E R E s o l d = 0 ; T h e U P D A T E s t a t e m e n t is u s e d t o u d p a t e r o w s in a t a b le . u p d a t e s t h e e n t i r e c o l u m n o f t h a t t a b l e U P D A T E c u s t o m e r S E T s t a t e = ' C A ' ; u p d a t e s t h e sp e c i f i c r e c o r d o f t h e t a b l e e g : U P D A T E c u s t o m e r S E T n a m e = ' J o e ' W H E R E c u s t o m e r _ i d = 1 0 ; u p d a t e s t h e c o l u m n i n v o i c e a s p a i d w h e n p a i d c o l u m n h a s m o r e t h a n z e r o . U P D A T E m o v i e s S E T i n v o i c e = ' p a i d ' W H E R E p a i d > 0 ; S e q u e n c e s a r e d a t a b a s e o b je c t s t h a t m u lt ip le u s e r s c a n u s e t o g e n e r a t e u n iq u e in t e g e r s . T h e s e q u e n c e g e n e r a t o r g e n e r a t e s s e q u e n t ia l n u m b e r s , w h ic h c a n h e lp a u t o m a t ic a lly g e n e r a t e u n iq u e p r im a r y k e y s , a n d c o o r d in a t e k e y s a c r o s s m u lt ip le r o w s o r t a b le s . T h e sy n t a x f o r a se q u e n c e i s: C R E A T E S E Q U E N C E s e q u e n c e _ n a m e M I N V A L U E v a l u e M A X V A L U E v a l u e S T A R T W I T H v a l u e I N C R E M E N T B Y v a l u e C A C H E v a l u e ; Fo r e x a m p l e : D E L E T E U P D A T E S E Q U E N C E S C R E A T E S E Q U E N C E 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 3 /19 C R E A T E S E Q U E N C E s u p p l i e r _ s e q M I N V A L U E 1 M A X V A L U E 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 S T A R T W I T H 1 I N C R E M E N T B Y 1 C A C H E 2 0 ; I n c r e m e n t a se q u e n c e b y a c e r t a i n a m o u n t : A L T E R S E Q U E N C E < s e q u e n c e _ n a m e > I N C R E M E N T B Y < i n t e g e r > ; A L T E R S E Q U E N C E s e q _ i n c _ b y _ t e n I N C R E M E N T B Y 1 0 ; C h a n g e t h e m a x i m u m v a l u e o f a se q u e n c e : A L T E R S E Q U E N C E < s e q u e n c e _ n a m e > M A X V A L U E < i n t e g e r > ; A L T E R S E Q U E N C E s e q _ m a x v a l M A X V A L U E 1 0 ; S e t t h e se q u e n c e t o c y c l e o r n o t c y c l e : A L T E R S E Q U E N C E < s e q u e n c e _ n a m e > < C Y C L E | N O C Y C L E > ; A L T E R S E Q U E N C E s e q _ c y c l e N O C Y C L E ; C o n f i g u r e t h e se q u e n c e t o c a c h e a v a l u e : A L T E R S E Q U E N C E < s e q u e n c e _ n a m e > C A C H E < i n t e g e r > | N O C A C H E ; A L T E R S E Q U E N C E s e q _ c a c h e N O C A C H E ; S e t w h e t h e r o r n o t t o r e t u r n t h e v a l u e s i n o r d e r A L T E R S E Q U E N C E < s e q u e n c e _ n a m e > < O R D E R | N O O R D E R > ; A L T E R S E Q U E N C E s e q _ o r d e r N O O R D E R ; A L T E R S E Q U E N C E s e q _ o r d e r ; I t is s o m e t im e s n e c e s s a r y t o c r e a t e a q u e r y f r o m a s t r in g . T h a t is , if t h e p r o g r a m m e r w a n t s t o c r e a t e a q u e r y a t r u n t im e ( g e n e r a t e a n O r a c le q u e r y o n t h e f ly ) , b a s e d o n a p a r t ic u la r s e t o f c ir c u m s t a n c e s , e t c . C a r e s h o u ld b e t a k e n n o t t o in s e r t u s e r - s u p p lie d d a t a d ir e c t ly in t o a d y n a m ic q u e r y s t r in g , w it h o u t f ir s t v e t t in g t h e d a t a v e r y s t r ic t ly f o r S Q L e s c a p e c h a r a c t e r s ; o t h e r w is e y o u r u n a s ig n if ic a n t r is k o f e n a b lin g d a t a - in je c t io n h a c k s o n y o u r c o d e . H e r e is a v e r y s im p le e x a m p le o f h o w a d y n a m ic q u e r y is d o n e . T h e r e a r e , o f c o u r s e , m a n y d if f e r e n t w a y s t o d o t h is ; t h is is ju s t a n e x a m p le o f t h e f u n c t io n a lit y . P R O C E D U R E o r a c l e _ r u n t i m e _ q u e r y _ p c d I S T Y P E r e f _ c u r s o r I S R E F C U R S O R ; l _ c u r s o r r e f _ c u r s o r ; v _ q u e r y v a r c h a r 2 ( 5 0 0 0 ) ; v _ n a m e v a r c h a r 2 ( 6 4 ) ; B E G I N v _ q u e r y : = ' S E L E C T n a m e F R O M e m p l o y e e W H E R E e m p l o y e e _ i d = 5 ' ; A L T E R S E Q U E N C E G e n e r a t e q u e r y f r o m a s t r in g 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 4 /19 O P E N l _ c u r s o r F O R v _ q u e r y ; L O O P F E T C H l _ c u r s o r I N T O v _ n a m e ; E X I T W H E N l _ c u r s o r % N O T F O U N D ; E N D L O O P ; C L O S E l _ c u r s o r ; E N D ; L e n g t h r e t u r n s a n in t e g e r r e p r e s e n t in g t h e le n g t h o f a g iv e n s t r in g . I t c a n b e r e f e r r e d t o a s : l e n g t h b , l e n g t h c , l e n g t h 2 , a n d l e n g t h 4 . l e n g t h ( s t r i n g 1 ) ; S E L E C T l e n g t h ( ' h e l l o w o r l d ' ) F R O M d u a l ; t h i s r e t u r n s 1 1 , s i n c e t h e a r g u m e n t i s m a d e u p o f 1 1 c h a r a c t e r s i n c l u d i n g t h e s p a c e S E L E C T l e n g t h b ( ' h e l l o w o r l d ' ) F R O M d u a l ; S E L E C T l e n g t h c ( ' h e l l o w o r l d ' ) F R O M d u a l ; S E L E C T l e n g t h 2 ( ' h e l l o w o r l d ' ) F R O M d u a l ; S E L E C T l e n g t h 4 ( ' h e l l o w o r l d ' ) F R O M d u a l ; t h e s e a l s o r e t u r n 1 1 , s i n c e t h e f u n c t i o n s c a l l e d a r e e q u i v a l e n t I n s t r ( in s t r in g ) r e t u r n s a n in t e g e r t h a t s p e c if ie s t h e lo c a t io n o f a s u b - s t r in g w it h in a s t r in g . T h e p r o g r a m m e r c a n s p e c if y w h ic h a p p e a r a n c e o f t h e s t r in g t h e y w a n t t o d e t e c t , a s w e ll a s a s t a r t in g p o s it io n . A n u n s u c c e s s f u l s e a r c h r e t u r n s 0 . i n s t r ( s t r i n g 1 , s t r i n g 2 , [ s t a r t _ p o s i t i o n ] , [ n t h _ a p p e a r a n c e ] ) i n s t r ( ' o r a c l e p l / s q l c h e a t s h e e t ' , ' / ' ) ; t h i s r e t u r n s 1 0 , s i n c e t h e f i r s t o c c u r r e n c e o f \" / \" i s t h e t e n t h c h a r a c t e r i n s t r ( ' o r a c l e p l / s q l c h e a t s h e e t ' , ' e ' , 1 , 2 ) ; t h i s r e t u r n s 1 7 , s i n c e t h e s e c o n d o c c u r r e n c e o f \" e \" i s t h e s e v e n t e e n t h c h a r a c t e r i n s t r ( ' o r a c l e p l / s q l c h e a t s h e e t ' , ' / ' , 1 2 , 1 ) ; t h i s r e t u r n s 0 , s i n c e t h e f i r s t o c c u r r e n c e o f \" / \" i s b e f o r e t h e s t a r t i n g p o i n t , w h i c h i s t h e 1 2 t h c h a r a c t e r R e p la c e lo o k s t h r o u g h a s t r in g , r e p la c in g o n e s t r in g w it h a n o t h e r . I f n o o t h e r s t r in g is s p e c if ie d , it r e m o v e s t h e s t r in g s p e c if ie d in t h e r e p la c e m e n t s t r in g p a r a m e t e r . r e p l a c e ( s t r i n g 1 , s t r i n g _ t o _ r e p l a c e , [ r e p l a c e m e n t _ s t r i n g ] ) ; r e p l a c e ( ' i a m h e r e ' , ' a m ' , ' a m n o t ' ) ; t h i s r e t u r n s \" i a m n o t h e r e \" S t r in g o p e r a t io n s L e n g t h In s t r R e p la c e S u b s t r 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 5 /19 S u b s t r ( s u b s t r in g ) r e t u r n s a p o r t io n o f t h e g iv e n s t r in g . T h e \" s t a r t _ p o s it io n \" is 1 - b a s e d , n o t 0 - b a s e d . I f \" s t a r t _ p o s it io n \" is n e g a t iv e , s u b s t r c o u n t s f r o m t h e e n d o f t h e s t r in g . I f \" le n g t h \" is n o t g iv e n , s u b s t r d e f a u lt s t o t h e r e m a in in g le n g t h o f t h e s t r in g . s u b s t r ( s t r in g , s t a r t _ p o s it io n [ , le n g t h ] ) S E L E C T s u b s t r ( ' o r a c l e p l / s q l c h e a t s h e e t ' , 8 , 6 ) F R O M d u a l ; returns \" pl/sql \" since the \"p\" in \"pl/sql\" is in the 8th position in the string (counting from 1 at the \"o\" in \"oracle\") S E L E C T s u b s t r ( ' o r a c l e p l / s q l c h e a t s h e e t ' , 1 5 ) F R O M d u a l ; returns \" cheatsheet \" since \"c\" is in the 15th position in the string and \"t\" is the last character in the string. S E L E C T s u b s t r ( ' o r a c l e p l / s q l c h e a t s h e e t ' , - 1 0 , 5 ) F R O M d u a l ; returns \" cheat \" since \"c\" is the 10th character in the string, counting from the end of the string with \"t\" as position 1. T h e s e f u n c t io n s c a n b e u s e d t o f ilt e r u n w a n t e d c h a r a c t e r s f r o m s t r in g s . B y d e f a u lt t h e y r e m o v e s p a c e s , b u t a c h a r a c t e r s e t c a n b e s p e c if ie d f o r r e m o v a l a s w e ll. t r i m ( [ l e a d i n g | t r a i l i n g | b o t h ] [ t r i m - c h a r ] f r o m s t r i n g - t o - b e - t r i m m e d ) ; t r i m ( ' r e m o v i n g s p a c e s a t b o t h s i d e s ' ) ; t h i s r e t u r n s \" r e m o v i n g s p a c e s a t b o t h s i d e s \" l t r i m ( s t r i n g - t o - b e - t r i m m e d [ , t r i m m i n g - c h a r - s e t ] ) ; l t r i m ( ' r e m o v i n g s p a c e s a t t h e l e f t s i d e ' ) ; t h i s r e t u r n s \" r e m o v i n g s p a c e s a t t h e l e f t s i d e \" r t r i m ( s t r i n g - t o - b e - t r i m m e d [ , t r i m m i n g - c h a r - s e t ] ) ; r t r i m ( ' r e m o v i n g s p a c e s a t t h e r i g h t s i d e ' ) ; t h i s r e t u r n s \" r e m o v i n g s p a c e s a t t h e r i g h t s i d e \" T h e sy n t a x t o c r e a t e a t a b l e i s: C R E A T E T A B L E [ t a b l e n a m e ] ( [ c o l u m n n a m e ] [ d a t a t y p e ] , . . . ) ; T r im DDL SQL T a b le s C r e a t e t a b le 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 6 /19 Fo r e x a m p l e : C R E A T E T A B L E e m p l o y e e ( i d i n t , n a m e v a r c h a r ( 2 0 ) ) ; T h e sy n t a x t o a d d a c o l u m n i s: A L T E R T A B L E [ t a b l e n a m e ] A D D ( [ c o l u m n n a m e ] [ d a t a t y p e ] , . . . ) ; Fo r e x a m p l e : A L T E R T A B L E e m p l o y e e A D D ( i d i n t ) T h e sy n t a x t o m o d i f y a c o l u m n i s: A L T E R T A B L E [ t a b l e n a m e ] M O D I F Y ( [ c o l u m n n a m e ] [ n e w d a t a t y p e ] ) ; A L T E R t a b l e sy n t a x a n d e x a m p l e s: Fo r e x a m p l e : A L T E R T A B L E e m p l o y e e M O D I F Y ( s i c k H o u r s s f l o a t ) ; T h e sy n t a x t o d r o p a c o l u m n i s: A L T E R T A B L E [ t a b l e n a m e ] D R O P C O L U M N [ c o l u m n n a m e ] ; Fo r e x a m p l e : A L T E R T A B L E e m p l o y e e D R O P C O L U M N v a c a t i o n P a y ; T ype Code T ype Description Acts On Level C Check on a table Column A d d c o lu m n M o d if y c o lu m n D r o p c o lu m n C o n s t r a in t s C o n s t r a in t t y p e s a n d c o d e s 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 7 /19 O Read Only on a view Object P Primary Key Object R Referential AKA Foreign Key Column U Unique Key Column V Check Option on a view Object T h e f o l l o w i n g st a t e m e n t sh o w s a l l c o n st r a i n t s i n t h e sy st e m : S E L E C T t a b l e _ n a m e , c o n s t r a i n t _ n a m e , c o n s t r a i n t _ t y p e F R O M u s e r _ c o n s t r a i n t s ; T h e f o l l o w i n g st a t e m e n t sh o w s a l l r e f e r e n t i a l c o n st r a i n t s ( f o r e i g n k e y s) w i t h b o t h so u r c e a n d d e st i n a t i o n t a b l e / c o l u m n c o u p l e s: S E L E C T c _ l i s t . C O N S T R A I N T _ N A M E a s N A M E , c _ s r c . T A B L E _ N A M E a s S R C _ T A B L E , c _ s r c . C O L U M N _ N A M E a s S R C _ C O L U M N , c _ d e s t . T A B L E _ N A M E a s D E S T _ T A B L E , c _ d e s t . C O L U M N _ N A M E a s D E S T _ C O L U M N F R O M A L L _ C O N S T R A I N T S c _ l i s t , A L L _ C O N S _ C O L U M N S c _ s r c , A L L _ C O N S _ C O L U M N S c _ d e s t W H E R E c _ l i s t . C O N S T R A I N T _ N A M E = c _ s r c . C O N S T R A I N T _ N A M E A N D c _ l i s t . R _ C O N S T R A I N T _ N A M E = c _ d e s t . C O N S T R A I N T _ N A M E A N D c _ l i s t . C O N S T R A I N T _ T Y P E = ' R ' G R O U P B Y c _ l i s t . C O N S T R A I N T _ N A M E , c _ s r c . T A B L E _ N A M E , c _ s r c . C O L U M N _ N A M E , c _ d e s t . T A B L E _ N A M E , c _ d e s t . C O L U M N _ N A M E ; T h e sy n t a x f o r c r e a t i n g a c h e c k c o n st r a i n t u si n g a C R E A T E T A B L E st a t e m e n t i s: C R E A T E T A B L E t a b l e _ n a m e ( c o l u m n 1 d a t a t y p e n u l l / n o t n u l l , c o l u m n 2 d a t a t y p e n u l l / n o t n u l l , . . . C O N S T R A I N T c o n s t r a i n t _ n a m e C H E C K ( c o l u m n _ n a m e c o n d i t i o n ) [ D I S A B L E ] ) ; Fo r e x a m p l e : C R E A T E T A B L E s u p p l i e r s ( s u p p l i e r _ i d n u m e r i c ( 4 ) , s u p p l i e r _ n a m e v a r c h a r 2 ( 5 0 ) , C O N S T R A I N T c h e c k _ s u p p l i e r _ i d D is p la y in g c o n s t r a in t s S e le c t in g r e f e r e n t ia l c o n s t r a in t s S e t t in g c o n s t r a in t s o n a t a b le 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 8 /19 C H E C K ( s u p p l i e r _ i d B E T W E E N 1 0 0 a n d 9 9 9 9 ) ) ; T h e sy n t a x f o r c r e a t i n g a u n i q u e c o n st r a i n t u si n g a C R E A T E T A B L E st a t e m e n t i s: C R E A T E T A B L E t a b l e _ n a m e ( c o l u m n 1 d a t a t y p e n u l l / n o t n u l l , c o l u m n 2 d a t a t y p e n u l l / n o t n u l l , . . . C O N S T R A I N T c o n s t r a i n t _ n a m e U N I Q U E ( c o l u m n 1 , c o l u m n 2 , c o l u m n _ n ) ) ; Fo r e x a m p l e : C R E A T E T A B L E c u s t o m e r ( i d i n t e g e r n o t n u l l , n a m e v a r c h a r 2 ( 2 0 ) , C O N S T R A I N T c u s t o m e r _ i d _ c o n s t r a i n t U N I Q U E ( i d ) ) ; T h e sy n t a x f o r a u n i q u e c o n st r a i n t i s: A L T E R T A B L E [ t a b l e n a m e ] A D D C O N S T R A I N T [ c o n s t r a i n t n a m e ] U N I Q U E ( [ c o l u m n n a m e ] ) U S I N G I N D E X [ i n d e x n a m e ] ; Fo r e x a m p l e : A L T E R T A B L E e m p l o y e e A D D C O N S T R A I N T u n i q u e E m p l o y e e I d U N I Q U E ( e m p l o y e e I d ) U S I N G I N D E X o u r c o m p a n y I n d x _ t b s ; T h e sy n t a x f o r d r o p p i n g ( r e m o v i n g ) a c o n st r a i n t i s: [ 1 ] A L T E R T A B L E [ t a b l e n a m e ] D R O P C O N S T R A I N T [ c o n s t r a i n t n a m e ] ; Fo r e x a m p l e : A L T E R T A B L E e m p l o y e e D R O P C O N S T R A I N T u n i q u e E m p l o y e e I d ; A n in d e x is a m e t h o d t h a t r e t r ie v e s r e c o r d s w it h g r e a t e r e f f ic ie n c y . A n in d e x c r e a t e s a n e n t r y f o r e a c h v a lu e t h a t a p p e a r s in t h e in d e x e d c o lu m n s . B y d e f a u lt , O r a c le c r e a t e s B - t r e e in d e x e s . U n iq u e In d e x o n a t a b le A d d in g u n iq u e c o n s t r a in t s D e le t in g c o n s t r a in t s IN D E X E S 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 9 /19 T h e sy n t a x f o r c r e a t i n g a n i n d e x i s: C R E A T E [ U N I Q U E ] I N D E X i n d e x _ n a m e O N t a b l e _ n a m e ( c o l u m n 1 , c o l u m n 2 , . c o l u m n _ n ) [ C O M P U T E S T A T I S T I C S ] ; U N I Q U E in d ic a t e s t h a t t h e c o m b in a t io n o f v a lu e s in t h e in d e x e d c o lu m n s m u s t b e u n iq u e . C O M P U T E S T A T I S T I C S t e lls O r a c le t o c o lle c t s t a t is t ic s d u r in g t h e c r e a t io n o f t h e in d e x . T h e s t a t is t ic s a r e t h e n u s e d b y t h e o p t im ize r t o c h o o s e a n o p t im a l e x e c u t io n p la n w h e n t h e s t a t e m e n t s a r e e x e c u t e d . Fo r e x a m p l e : C R E A T E I N D E X c u s t o m e r _ i d x O N c u s t o m e r ( c u s t o m e r _ n a m e ) ; I n t h is e x a m p le , a n in d e x h a s b e e n c r e a t e d o n t h e c u s t o m e r t a b le c a lle d c u s t o m e r _ id x . I t c o n s is t s o f o n ly o f t h e c u s t o m e r _ n a m e f ie ld . T h e f o l l o w i n g c r e a t e s a n i n d e x w i t h m o r e t h a n o n e f i e l d : C R E A T E I N D E X c u s t o m e r _ i d x O N s u p p l i e r ( c u s t o m e r _ n a m e , c o u n t r y ) ; T h e f o l l o w i n g c o l l e c t s st a t i st i c s u p o n c r e a t i o n o f t h e i n d e x : C R E A T E I N D E X c u s t o m e r _ i d x O N s u p p l i e r ( c u s t o m e r _ n a m e , c o u n t r y ) C O M P U T E S T A T I S T I C S ; I n O r a c le , y o u a r e n o t r e s t r ic t e d t o c r e a t in g in d e x e s o n o n ly c o lu m n s . Y o u c a n c r e a t e f u n c t io n - b a s e d in d e x e s . T h e sy n t a x t h a t c r e a t e s a f u n c t i o n - b a s e d i n d e x i s: C R E A T E [ U N I Q U E ] I N D E X i n d e x _ n a m e O N t a b l e _ n a m e ( f u n c t i o n 1 , f u n c t i o n 2 , . f u n c t i o n _ n ) [ C O M P U T E S T A T I S T I C S ] ; Fo r e x a m p l e : C R E A T E I N D E X c u s t o m e r _ i d x O N c u s t o m e r ( U P P E R ( c u s t o m e r _ n a m e ) ) ; A n in d e x , b a s e d o n t h e u p p e r c a s e e v a lu a t io n o f t h e c u s t o m e r _ n a m e f ie ld , h a s b e e n c r e a t e d . T o a s s u r e t h a t t h e O r a c le o p t im ize r u s e s t h is in d e x w h e n e x e c u t in g y o u r S Q L s t a t e m e n t s , b e s u r e t h a t U P P E R ( c u s t o m e r _ n a m e ) d o e s n o t e v a lu a t e t o a N U L L v a lu e . T o e n s u r e t h is , a d d U P P E R ( c u s t o m e r _ n a m e ) I S N O T N U L L t o y o u r W H E R E c la u s e a s f o llo w s : C r e a t e a n in d e x C r e a t e a f u n c t io n - b a s e d in d e x 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 10 /19 S E L E C T c u s t o m e r _ i d , c u s t o m e r _ n a m e , U P P E R ( c u s t o m e r _ n a m e ) F R O M c u s t o m e r W H E R E U P P E R ( c u s t o m e r _ n a m e ) I S N O T N U L L O R D E R B Y U P P E R ( c u s t o m e r _ n a m e ) ; T h e sy n t a x f o r r e n a m i n g a n i n d e x i s: A L T E R I N D E X i n d e x _ n a m e R E N A M E T O n e w _ i n d e x _ n a m e ; Fo r e x a m p l e : A L T E R I N D E X c u s t o m e r _ i d R E N A M E T O n e w _ c u s t o m e r _ i d ; I n t h is e x a m p le , c u st o m e r _ i d is r e n a m e d t o n e w _ c u st o m e r _ i d . I f y o u n e e d t o c o lle c t s t a t is t ic s o n t h e in d e x a f t e r it is f ir s t c r e a t e d o r y o u w a n t t o u p d a t e t h e s t a t is t ic s , y o u c a n a lw a y s u s e t h e A L T E R I N D E X c o m m a n d t o c o lle c t s t a t is t ic s . Y o u c o lle c t s t a t is t ic s s o t h a t o r a c le c a n u s e t h e in d e x e s in a n e f f e c t iv e m a n n e r . T h is r e c a lc u lt e s t h e t a b le s ize , n u m b e r o f r o w s , b lo c k s , s e g m e n t s a n d u p d a t e t h e d ic t io n a r y t a b le s s o t h a t o r a c le c a n u s e t h e d a t a e f f e c t iv e ly w h ile c h o o s in g t h e e x e c u t io n p la n . T h e sy n t a x f o r c o l l e c t i n g st a t i st i c s o n a n i n d e x i s: A L T E R I N D E X i n d e x _ n a m e R E B U I L D C O M P U T E S T A T I S T I C S ; Fo r e x a m p l e : A L T E R I N D E X c u s t o m e r _ i d x R E B U I L D C O M P U T E S T A T I S T I C S ; I n t h is e x a m p le , s t a t is t ic s a r e c o lle c t e d f o r t h e in d e x c a lle d c u st o m e r _ i d x . T h e sy n t a x f o r d r o p p i n g a n i n d e x i s: D R O P I N D E X i n d e x _ n a m e ; Fo r e x a m p l e : D R O P I N D E X c u s t o m e r _ i d x ; I n t h is e x a m p le , t h e c u st o m e r _ i d x is d r o p p e d . R e n a m e a n In d e x C o lle c t s t a t is t ic s o n a n in d e x D r o p a n in d e x 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 1 1 /19 T h e sy n t a x f o r c r e a t i n g a u se r i s: C R E A T E U S E R u s e r n a m e I D E N T I F I E D B Y p a s s w o r d ; Fo r e x a m p l e : C R E A T E U S E R b r i a n I D E N T I F I E D B Y b r i a n p a s s ; T h e sy n t a x f o r g r a n t i n g p r i v i l e g e s i s: G R A N T p r i v i l e g e T O u s e r ; Fo r e x a m p l e : G R A N T d b a T O b r i a n ; T h e sy n t a x f o r c h a n g i n g u se r p a sswor d i s: A L T E R U S E R u s e r n a m e I D E N T I F I E D B Y p a s s w o r d ; Fo r e x a m p l e : A L T E R U S E R b r i a n I D E N T I F I E D B Y b r i a n p a s s w o r d ; T h e r e a r e t w o m e t h o d s o f b a c k in g u p a n d r e s t o r in g d a t a b a s e t a b le s a n d d a t a . T h e 'e x p ' a n d 'im p ' t o o ls a r e s im p le r t o o ls g e a r e d t o w a r d s s m a lle r d a t a b a s e s . I f d a t a b a s e s t r u c t u r e s b e c o m e m o r e c o m p le x o r a r e v e r y la r g e ( > 5 0 G B f o r e x a m p le ) t h e n u s in g t h e R M A N t o o l is m o r e a p p r o p r ia t e . T h is c o m m a n d is u s e d t o im p o r t O r a c le t a b le s a n d t a b le d a t a f r o m a * .d m p f ile c r e a t e d b y t h e 'e x p ' t o o l. R e m e m b e r t h a t t h is a c o m m a n d t h a t is e x e c u t e d f r o m t h e c o m m a n d lin e t h r o u g h $ O R A C L E _ H O M E / b in a n d n o t w it h in S Q L * P lu s . T h e sy n t a x f o r i m p o r t i n g a d u m p f i l e i s: DBA Related U s e r M a n a g e m e n t C r e a t in g a u s e r G r a n t in g p r iv ile g e s C h a n g e p a s s w o r d Im p o r t in g a n d e x p o r t in g Im p o r t a d u m p f ile u s in g IM P 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 12 /19 i m p K E Y W O R D = v a l u e T h e r e a r e n u m b e r o f p a r a m e t e r s y o u c a n u s e f o r k e y w o r d s . T o v i e w a l l t h e k e y w o r d s: i m p H E L P = y e s A n e x a m p l e : i m p b r i a n / b r i a n p a s s w o r d F I L E = m y d u m p . d m p F U L L = y e s A d d itio n : + S u b tr a c tio n : - M u ltip lic a tio n : * D iv is io n : / P o w e r ( P L /S Q L o n ly ) : * * g iv e s a ll e m p lo y e e s f r o m c u s t o m e r id 5 a 5 % r a is e U P D A T E e m p l o y e e S E T s a l a r y = s a l a r y * 1 . 0 5 W H E R E c u s t o m e r _ i d = 5 ; d e t e r m in e s t h e a f t e r t a x w a g e f o r a ll e m p lo y e e s S E L E C T w a g e - t a x F R O M e m p l o y e e ; G r e a te r T h a n : > G r e a te r T h a n o r E q u a l To : > = L e s s T h a n : < L e s s T h a n o r E q u a l to : < = E q u iv a le n c e : = In e q u a lity : != ^ = < > ¬ = ( d e p e n d s o n p la tfo r m ) PL/SQL O p e r a t o r s A r it h m e t ic o p e r a t o r s E x a m p le s C o m p a r is o n o p e r a t o r s E x a m p le s 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 13 /19 S E L E C T n a m e , s a l a r y , e m a i l F R O M e m p l o y e e s W H E R E s a l a r y > 4 0 0 0 0 ; S E L E C T n a m e F R O M c u s t o m e r s W H E R E c u s t o m e r _ i d < 6 ; C o n c a te n a te : || c r e a t e o r r e p la c e p r o c e d u r e a d d t e s t ( a in v a r c h a r 2 ( 1 0 0 ) , b in v a r c h a r 2 ( 1 0 0 ) , c o u t v a r c h a r 2 ( 2 0 0 ) ) I S b e g in C : = c o n c a t ( a ,'- ',b ) ; A d d itio n : + S u b tr a c tio n : - S c a la r t y p e ( d e f in e d in p a c k a g e S T A N D A R D ) : N U M B E R , C H A R , V A R C H A R 2 , B O O L E A N , B I N A R Y _ I N T E G E R , L O N G \\ L O N G R A W , D A T E , T I M E S T A M P a n d it s f a m ily in c lu d in g in t e r v a ls ) C o m p o s it e t y p e s ( u s e r - d e f in e d t y p e s ) : T A B L E , R E C O R D , N E S T E D T A B L E a n d V A R R A Y L O B d a t a t y p e s : u s e d t o s t o r e a n u n s t r u c t u r e d la r g e a m o u n t o f d a t a T h e sy n t a x f o r a n c h o r e d t y p e d e c l a r a t i o n s i s < v a r _ n a m e > < o b j > % t y p e [ n o t n u l l ] [ : = < i n i t - v a l > ] ; Fo r e x a m p l e n a m e B o o k s . t i t l e % t y p e ; / * n a m e i s d e f i n e d a s t h e s a m e t y p e a s c o l u m n ' t i t l e ' o f t a b l e B o o k s * / c o m m i s s i o n n u m b e r ( 5 , 2 ) : = 1 2 . 5 ; x c o m m i s s i o n % t y p e ; / * x i s d e f i n e d a s t h e s a m e t y p e a s v a r i a b l e ' c o m m i s s i o n ' * / N o t e : 1 . A n c h o r e d v a r ia b le s a llo w fo r th e a u to m a tic s y n c h r o n iz a tio n o f th e ty p e o f a n c h o r e d v a r ia b le w ith th e ty p e o f < o b j> w h e n th e r e is a c h a n g e to th e < o b j> ty p e . 2 . A n c h o r e d ty p e s a r e e v a lu a te d a t c o m p ile tim e , s o r e c o m p ile th e p r o g r a m to r e fle c t th e c h a n g e o f < o b j> ty p e in th e a n c h o r e d v a r ia b le . A c o lle c t io n is a n o r d e r e d g r o u p o f e le m e n t s , a ll o f t h e s a m e t y p e . I t is a g e n e r a l c o n c e p t t h a t e n c o m p a s s e s lis t s , a r r a y s , a n d o t h e r f a m ilia r d a t a t y p e s . E a c h e le m e n t h a s a u n iq u e s u b s c r ip t t h a t d e t e r m in e s it s p o s it io n in t h e c o lle c t io n . S t r in g o p e r a t o r s D a t e o p e r a t o r s T y p e s B a s ic P L /S Q L T y p e s % T Y P E - a n c h o r e d t y p e v a r ia b le d e c la r a t io n C o lle c t io n s 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 14 /19 - - D e f i n e a P L / S Q L r e c o r d t y p e r e p r e s e n t i n g a b o o k : T Y P E b o o k _ r e c I S R E C O R D ( t i t l e b o o k . t i t l e % T Y P E , a u t h o r b o o k . a u t h o r _ l a s t _ n a m e % T Y P E , y e a r _ p u b l i s h e d b o o k . p u b l i s h e d _ d a t e % T Y P E ) ; - - d e f i n e a P L / S Q L t a b l e c o n t a i n i n g e n t r i e s o f t y p e b o o k _ r e c : T y p e b o o k _ r e c _ t a b I S T A B L E O F b o o k _ r e c I N D E X B Y B I N A R Y _ I N T E G E R ; m y _ b o o k _ r e c b o o k _ r e c % T Y P E ; m y _ b o o k _ r e c _ t a b b o o k _ r e c _ t a b % T Y P E ; . . . m y _ b o o k _ r e c : = m y _ b o o k _ r e c _ t a b ( 5 ) ; f i n d _ a u t h o r s _ b o o k s ( m y _ b o o k _ r e c . a u t h o r ) ; . . . T h e r e a r e m a n y g o o d r e a s o n s t o u s e c o lle c t io n s . D r a m a tic a lly fa s te r e x e c u tio n s p e e d , th a n k s to tr a n s p a r e n t p e r fo r m a n c e b o o s ts in c lu d in g a n e w o p tim iz in g c o m p ile r, b e tte r in te g r a te d n a tiv e c o m p ila tio n , a n d n e w d a ta ty p e s th a t h e lp o u t w ith n u m b e r - c r u n c h in g a p p lic a tio n s . T h e F O R A L L s ta te m e n t, m a d e e v e n m o r e fle x ib le a n d u s e fu l. F o r e x a m p le , F O R A L L n o w s u p p o r ts n o n c o n s e c u tiv e in d e x e s . R e g u la r e x p r e s s io n s a r e a v a ila b le in P L /S Q L in th e fo r m o f th r e e n e w fu n c tio n s ( R E G E X P _ IN S T R , R E G E X P _ R E P L A C E , a n d R E G E X P _ S U B S T R ) a n d th e R E G E X P _ L IK E o p e r a to r fo r c o m p a r is o n s [ 2 ] . C o lle c tio n s , im p r o v e d to in c lu d e s u c h th in g s a s c o lle c tio n c o m p a r is o n fo r e q u a lity a n d s u p p o r t fo r s e t o p e r a tio n s o n n e s te d ta b le s . 1 . h ttp : //w w w .p s o u g .o r g /r e fe r e n c e /c o n s tr a in ts .h tm l 2 . \" F ir s t E x p r e s s io n s \" b y J o n a th a n G e n n ic k fo r m o r e in fo r m a tio n in th is is s u e Ta k in g U p C o lle c tio n s ( h ttp : //w w w .o r a c le .c o m /te c h n o lo g y /o r a m a g /o r a c le /0 3 - s e p /o 5 3 p ls q l.h tm l) O r a c le P r o g r a m m in g w ith P L /S Q L C o lle c tio n s ( h ttp : //w w w .d e v e lo p e r.c o m /d b /a r tic le .p h p /3 3 7 9 2 7 1 ) A f u n c t io n m u s t r e t u r n a v a lu e t o t h e c a lle r . T h e sy n t a x f o r a f u n c t i o n i s C R E A T E [ O R R E P L A C E ] F U N C T I O N f u n c t i o n _ n a m e [ ( p a r a m e t e r [ , p a r a m e t e r ] ) ] R E T U R N [ r e t u r n _ d a t a t y p e ] I S [ d e c l a r a t i o n _ s e c t i o n ] B E G I N e x e c u t a b l e _ s e c t i o n r e t u r n [ r e t u r n _ v a l u e ] [ E X C E P T I O N e x c e p t i o n _ s e c t i o n ] E N D [ f u n c t i o n _ n a m e ] ; Fo r e x a m p l e : References S t o r e d lo g ic F u n c t io n s 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 15 /19 C R E A T E O R R E P L A C E F U N C T I O N t o _ d a t e _ c h e c k _ n u l l ( d a t e S t r i n g I N V A R C H A R 2 , d a t e F o r m a t I N V A R C H A R 2 ) R E T U R N D A T E I S B E G I N I F d a t e S t r i n g I S N U L L T H E N r e t u r n N U L L ; E L S E r e t u r n t o _ d a t e ( d a t e S t r i n g , d a t e F o r m a t ) ; E N D I F ; E N D ; A p r o c e d u r e d if f e r s f r o m a f u n c t io n in t h a t it m u s t n o t r e t u r n a v a lu e t o t h e c a lle r . T h e sy n t a x f o r a p r o c e d u r e i s: C R E A T E [ O R R E P L A C E ] P R O C E D U R E p r o c e d u r e _ n a m e [ ( p a r a m e t e r [ , p a r a m e t e r ] ) ] I S [ d e c l a r a t i o n _ s e c t i o n ] B E G I N e x e c u t a b l e _ s e c t i o n [ E X C E P T I O N e x c e p t i o n _ s e c t i o n ] E N D [ p r o c e d u r e _ n a m e ] ; W h e n y o u c r e a t e a p r o c e d u r e o r f u n c t io n , y o u m a y d e f in e p a r a m e t e r s . T h e r e a r e t h r e e t y p e s o f p a r a m e t e r s t h a t c a n b e d e c la r e d : 1 . IN - T h e p a r a m e te r c a n b e r e fe r e n c e d b y th e p r o c e d u r e o r fu n c tio n . T h e v a lu e o f th e p a r a m e te r c a n n o t b e o v e r w r itte n b y th e p r o c e d u r e o r fu n c tio n . 2 . O U T - T h e p a r a m e te r c a n n o t b e r e fe r e n c e d b y th e p r o c e d u r e o r fu n c tio n , b u t th e v a lu e o f th e p a r a m e te r c a n b e o v e r w r itte n b y th e p r o c e d u r e o r fu n c tio n . 3 . IN O U T - T h e p a r a m e te r c a n b e r e fe r e n c e d b y th e p r o c e d u r e o r fu n c tio n a n d th e v a lu e o f th e p a r a m e te r c a n b e o v e r w r itte n b y th e p r o c e d u r e o r fu n c tio n . A ls o y o u c a n d e c la r e a D E FA U L T v a lu e ; C R E A T E [ O R R E P L A C E ] P R O C E D U R E p r o c e d u r e _ n a m e [ ( p a r a m e t e r [ I N | O U T | I N O U T ] [ D E F A U L T v a l u e ] [ , p a r a m e t e r ] ) ] T h e f o l l o w i n g i s a si m p l e e x a m p l e o f a p r o c e d u r e : / * p u r p o s e : s h o w s t h e s t u d e n t s i n t h e c o u r s e s p e c i f i e d b y c o u r s e I d * / C R E A T E O R R E P L A C E P r o c e d u r e G e t N u m b e r O f S t u d e n t s ( c o u r s e I d I N n u m b e r , n u m b e r O f S t u d e n t s O U T n u m b e r ) I S / * a l t h o u g h t h e r e a r e b e t t e r w a y s t o c o m p u t e t h e n u m b e r o f s t u d e n t s , t h i s i s a g o o d o p p o r t u n i t y t o s h o w a c u r s o r i n a c t i o n * / c u r s o r s t u d e n t _ c u r i s s e l e c t s t u d e n t I d , s t u d e n t N a m e f r o m c o u r s e w h e r e c o u r s e . c o u r s e I d = c o u r s e I d ; s t u d e n t _ r e c s t u d e n t _ c u r % R O W T Y P E ; B E G I N O P E N s t u d e n t _ c u r ; L O O P F E T C H s t u d e n t _ c u r I N T O s t u d e n t _ r e c ; E X I T W H E N s t u d e n t _ c u r % N O T F O U N D ; n u m b e r O f S t u d e n t s : = n u m b e r O f S t u d e n t s + 1 ; E N D L O O P ; P r o c e d u r e s 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 16 /19 C L O S E s t u d e n t _ c u r ; E X C E P T I O N W H E N O T H E R S T H E N r a i s e _ a p p l i c a t i o n _ e r r o r ( - 2 0 0 0 1 , ' A n e r r o r w a s e n c o u n t e r e d - ' | | S Q L C O D E | | ' - E R R O R - ' | | S Q L E R R M ) ; E N D G e t N u m b e r O f S t u d e n t s ; D E C L A R E x N U M B E R ( 4 ) : = 0 ; B E G I N x : = 1 0 0 0 ; B E G I N x : = x + 1 0 0 ; E X C E P T I O N W H E N O T H E R S T H E N x : = x + 2 ; E N D ; x : = x + 1 0 ; d b m s _ o u t p u t . p u t _ l i n e ( x ) ; E X C E P T I O N W H E N O T H E R S T H E N x : = x + 3 ; E N D ; T h e r e a r e t h r e e b a s ic s y n t a x e s f o r p a s s in g p a r a m e t e r s t o a s t o r e d p r o c e d u r e : p o s it io n a l n o t a t io n , n a m e d n o t a t io n a n d m ixe d n o t a t io n . T h e f o llo w in g e x a m p le s c a ll t h is p r o c e d u r e f o r e a c h o f t h e b a s ic s y n t a x e s f o r p a r a m e t e r p a s s in g : C R E A T E O R R E P L A C E P R O C E D U R E c r e a t e _ c u s t o m e r ( p _ n a m e I N v a r c h a r 2 , p _ i d I N n u m b e r , p _ a d d r e s s I N v a r c h a r 2 , p _ p h o n e I N v a r c h a r 2 ) I S B E G I N I N S E R T I N T O c u s t o m e r ( n a m e , i d , a d d r e s s , p h o n e ) V A L U E S ( p _ n a m e , p _ i d , p _ a d d r e s s , p _ p h o n e ) ; E N D c r e a t e _ c u s t o m e r ; S p e c if y t h e s a m e p a r a m e t e r s in t h e s a m e o r d e r a s t h e y a r e d e c la r e d in t h e p r o c e d u r e . T h is n o t a t io n is c o m p a c t , b u t if y o u s p e c if y t h e p a r a m e t e r s ( e s p e c ia lly lit e r a ls ) in t h e w r o n g o r d e r , t h e b u g c a n b e h a r d t o d e t e c t . Y o u m u s t c h a n g e y o u r c o d e if t h e p r o c e d u r e 's p a r a m e t e r lis t c h a n g e s . c r e a t e _ c u s t o m e r ( ' J a m e s W h i t f i e l d ' , 3 3 , ' 3 0 1 A n y s t r e e t ' , ' 2 5 1 - 2 2 2 - 3 1 5 4 ' ) ; S p e c if y t h e n a m e o f e a c h p a r a m e t e r a lo n g w it h it s v a lu e . A n a r r o w ( = > ) s e r v e s a s t h e a s s o c ia t io n o p e r a t o r . T h e o r d e r o f t h e p a r a m e t e r s is n o t s ig n if ic a n t . T h is n o t a t io n is m o r e v e r b o s e , b u t m a k e s y o u r c o d e e a s ie r t o r e a d a n d m a in t a in . Y o u c a n s o m e t im e s a v o id c h a n g in g c o d e if t h e p r o c e d u r e 's p a r a m e t e r lis t c h a n g e s , f o r e x a m p le if t h e p a r a m e t e r s a r e r e o r d e r e d o r a a n o n y m o u s b lo c k P a s s in g p a r a m e t e r s t o s t o r e d lo g ic P o s it io n a l n o t a t io n N a m e d n o t a t io n 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 17 /19 n e w o p t io n a l p a r a m e t e r is a d d e d . N a m e d n o t a t io n is a g o o d p r a c t ic e t o u s e f o r a n y c o d e t h a t c a lls s o m e o n e e ls e 's A P I , o r d e f in e s a n A P I f o r s o m e o n e e ls e t o u s e . c r e a t e _ c u s t o m e r ( p _ a d d r e s s = > ' 3 0 1 A n y s t r e e t ' , p _ i d = > 3 3 , p _ n a m e = > ' J a m e s W h i t f i e l d ' , p _ p h o n e = > ' 2 5 1 - 2 2 2 - 3 1 5 4 ' ) ; S p e c if y t h e f ir s t p a r a m e t e r s w it h p o s it io n a l n o t a t io n , t h e n s w it c h t o n a m e d n o t a t io n f o r t h e la s t p a r a m e t e r s . Y o u c a n u s e t h is n o t a t io n t o c a ll p r o c e d u r e s t h a t h a v e s o m e r e q u ir e d p a r a m e t e r s , f o llo w e d b y s o m e o p t io n a l p a r a m e t e r s . c r e a t e _ c u s t o m e r ( v _ n a m e , v _ i d , p _ a d d r e s s = > ' 3 0 1 A n y s t r e e t ' , p _ p h o n e = > ' 2 5 1 - 2 2 2 - 3 1 5 4 ' ) ; C R E A T E T Y P E o b j e c t _ r o w _ t y p e a s O B J E C T ( o b j e c t _ t y p e V A R C H A R ( 1 8 ) , o b j e c t _ n a m e V A R C H A R ( 3 0 ) ) ; C R E A T E T Y P E o b j e c t _ t a b l e _ t y p e a s T A B L E O F o b j e c t _ r o w _ t y p e ; C R E A T E O R R E P L A C E F U N C T I O N g e t _ a l l _ o b j e c t s R E T U R N o b j e c t _ t a b l e _ t y p e P I P E L I N E D A S B E G I N F O R c u r I N ( S E L E C T * F R O M a l l _ o b j e c t s ) L O O P P I P E R O W ( o b j e c t _ r o w _ t y p e ( c u r . o b j e c t _ t y p e , c u r . o b j e c t _ n a m e ) ) ; E N D L O O P ; R E T U R N ; E N D ; S E L E C T * F R O M T A B L E ( g e t _ a l l _ o b j e c t s ) ; a n d : A N D o r : O R n o t: N O T I F s a la r y > 4 0 0 0 0 A N D s a la r y < = 7 0 0 0 0 T H E N ( ) E L S E I F s a la r y > 7 0 0 0 0 A N D s a la r y < = 1 0 0 0 0 0 T H E N ( ) E L S E ( ) I F [ c o n d i t i o n ] T H E N [ s t a t e m e n t s ] E L S E I F [ c o n d i t i o n ] T H E N [ s t a t e m e n t s } E L S E I F [ c o n d i t i o n ] T H E N [ s t a t e m e n t s } E L S E I F [ c o n d i t i o n ] T H E N M ix e d n o t a t io n T a b le f u n c t io n s F lo w c o n t r o l C o n d it io n a l O p e r a t o r s E x a m p le If /t h e n /e ls e 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 18 /19 [ s t a t e m e n t s } E L S E I F [ c o n d i t i o n ] T H E N [ s t a t e m e n t s } E L S E I F [ c o n d i t i o n ] T H E N [ s t a t e m e n t s } E L S E I F [ c o n d i t i o n ] T H E N [ s t a t e m e n t s } E L S E I F [ c o n d i t i o n ] T H E N [ s t a t e m e n t s } E L S E [ s t a t e m e n t s } E N D I F ; S tr o n g ly ty p e d a r r a y s , u s e fu l a s in - m e m o r y ta b le s V e r y s im p le e x a m p le , th e in d e x is th e k e y to a c c e s s in g th e a r r a y s o th e r e is n o n e e d to lo o p th r o u g h th e w h o le ta b le u n le s s y o u in te n d to u s e d a ta fr o m e v e r y lin e o f th e a r r a y . T h e in d e x c a n a ls o b e a n u m e r ic v a lu e . D E C L A R E - - A s s o c i a t i v e a r r a y i n d e x e d b y s t r i n g : - - A s s o c i a t i v e a r r a y t y p e T Y P E p o p u l a t i o n I S T A B L E O F N U M B E R I N D E X B Y V A R C H A R 2 ( 6 4 ) ; - - A s s o c i a t i v e a r r a y v a r i a b l e c i t y _ p o p u l a t i o n p o p u l a t i o n ; i V A R C H A R 2 ( 6 4 ) ; B E G I N - - A d d n e w e l e m e n t s t o a s s o c i a t i v e a r r a y : c i t y _ p o p u l a t i o n ( ' S m a l l v i l l e ' ) : = 2 0 0 0 ; c i t y _ p o p u l a t i o n ( ' M i d l a n d ' ) : = 7 5 0 0 0 0 ; c i t y _ p o p u l a t i o n ( ' M e g a l o p o l i s ' ) : = 1 0 0 0 0 0 0 ; - - C h a n g e v a l u e a s s o c i a t e d w i t h k e y ' S m a l l v i l l e ' : c i t y _ p o p u l a t i o n ( ' S m a l l v i l l e ' ) : = 2 0 0 1 ; - - P r i n t a s s o c i a t i v e a r r a y b y l o o p i n g t h r o u g h i t : i : = c i t y _ p o p u l a t i o n . F I R S T ; W H I L E i I S N O T N U L L L O O P D B M S _ O U T P U T . P U T _ L I N E ( ' P o p u l a t i o n o f ' | | i | | ' i s ' | | T O _ C H A R ( c i t y _ p o p u l a t i o n ( i ) ) ) ; i : = c i t y _ p o p u l a t i o n . N E X T ( i ) ; E N D L O O P ; - - P r i n t s e l e c t e d v a l u e f r o m a a s s o c i a t i v e a r r a y : D B M S _ O U T P U T . P U T _ L I N E ( ' S e l e c t e d v a l u e ' ) ; D B M S _ O U T P U T . P U T _ L I N E ( ' P o p u l a t i o n o f ' ) ; E N D ; / - - P r i n t e d r e s u l t s : P o p u l a t i o n o f M e g a l o p o l i s i s 1 0 0 0 0 0 0 P o p u l a t i o n o f M i d l a n d i s 7 5 0 0 0 0 P o p u l a t i o n o f S m a l l v i l l e i s 2 0 0 1 M o r e c o m p le x e x a m p le , u s in g a r e c o r d A r r a y s A s s o c ia t iv e a r r a y s E x a m p le 5/9/2018 Oracle Database/SQL Cheatsheet - Wikibooks, open books for an open world https://en.wikibooks.org/wiki/Oracle_Database/SQL_Cheatsheet 19 /19 D E C L A R E - - R e c o r d t y p e T Y P E a p o l l o _ r e c I S R E C O R D ( c o m m a n d e r V A R C H A R 2 ( 1 0 0 ) , l a u n c h D A T E ) ; - - A s s o c i a t i v e a r r a y t y p e T Y P E a p o l l o _ t y p e _ a r r I S T A B L E O F a p o l l o _ r e c I N D E X B Y V A R C H A R 2 ( 1 0 0 ) ; - - A s s o c i a t i v e a r r a y v a r i a b l e a p o l l o _ a r r a p o l l o _ t y p e _ a r r ; B E G I N a p o l l o _ a r r ( ' A p o l l o 1 1 ' ) . c o m m a n d e r : = ' N e i l A r m s t r o n g ' ; a p o l l o _ a r r ( ' A p o l l o 1 1 ' ) . l a u n c h : = T O _ D A T E ( ' J u l y 1 6 , 1 9 6 9 ' , ' M o n t h d d , y y y y ' ) ; a p o l l o _ a r r ( ' A p o l l o 1 2 ' ) . c o m m a n d e r : = ' P e t e C o n r a d ' ; a p o l l o _ a r r ( ' A p o l l o 1 2 ' ) . l a u n c h : = T O _ D A T E ( ' N o v e m b e r 1 4 , 1 9 6 9 ' , ' M o n t h d d , y y y y ' ) ; a p o l l o _ a r r ( ' A p o l l o 1 3 ' ) . c o m m a n d e r : = ' J a m e s L o v e l l ' ; a p o l l o _ a r r ( ' A p o l l o 1 3 ' ) . l a u n c h : = T O _ D A T E ( ' A p r i l 1 1 , 1 9 7 0 ' , ' M o n t h d d , y y y y ' ) ; a p o l l o _ a r r ( ' A p o l l o 1 4 ' ) . c o m m a n d e r : = ' A l a n S h e p a r d ' ; a p o l l o _ a r r ( ' A p o l l o 1 4 ' ) . l a u n c h : = T O _ D A T E ( ' J a n u a r y 3 1 , 1 9 7 1 ' , ' M o n t h d d , y y y y ' ) ; D B M S _ O U T P U T . P U T _ L I N E ( a p o l l o _ a r r ( ' A p o l l o 1 1 ' ) . c o m m a n d e r ) ; D B M S _ O U T P U T . P U T _ L I N E ( a p o l l o _ a r r ( ' A p o l l o 1 1 ' ) . l a u n c h ) ; e n d ; / - - P r i n t e d r e s u l t s : N e i l A r m s t r o n g 1 6 - J U L - 6 9 O r a c le A p p lic a t io n E x p r e s s a k a A P E X , is a w e b - b a s e d s o f t w a r e d e v e lo p m e n t e n v ir o n m e n t t h a t r u n s o n a n O r a c le d a t a b a s e . In S Q L : : V A R IA B L E In P L /S Q L : V ( 'V A R IA B L E ') o r N V ( 'V A R IA B L E ') In te x t: & V A R IA B L E . h ttp : //w w w .p s o u g .o r g /r e fe r e n c e / R e tr ie v e d fr o m \" h ttp s : //e n .w ik ib o o k s .o r g /w /in d e x .p h p ? title = O r a c le _ D a ta b a s e /S Q L _ C h e a ts h e e t& o ld id = 3 1 6 5 7 7 5 \" T h is p a g e w a s la s t e d it e d o n 1 1 D e c e m b e r 2 0 1 6 , a t 2 0 : 4 2 . Te x t is a v a ila b le u n d e r th e C r e a tiv e C o m m o n s A ttr ib u tio n - S h a r e A lik e L ic e n s e .; a d d itio n a l te r m s m a y a p p ly . B y u s in g th is s ite , y o u a g r e e to th e Te r m s o f U s e a n d P r iv a c y P o lic y . APEX S t r in g s u b s t it u t io n References","libVersion":"0.2.3","langs":""}