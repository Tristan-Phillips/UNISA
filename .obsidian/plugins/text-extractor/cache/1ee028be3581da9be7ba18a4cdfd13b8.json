{"path":"UNISA/98906 - BSc Science in Computing/INF3707 - Database Design and Implementation/Unsorted/INF3707/INF3707 Exam pack/Exam Shit/Materials/Slides/Orcl12_SQL_IM_ch09-1.pdf","text":"Oracle 12c: SQL 9-1 Chapter 9 Joining Data from Multiple Tables At a Glance Instructor’s Notes ♦ Chapter Overview ♦ Chapter Objectives ♦ Instructor Notes ♦ Troubleshooting Tips ♦ Quick Quizzes ♦ Discussion Questions ♦ Key Terms Oracle 12c: SQL 9-2 Chapter Overview The normalization process divides data into tables. However, in many cases, the data from related tables will need to be joined together to be useful in daily business activities. This chapter addresses how to join data contained in various tables using conditions specified in the WHERE clause and using the JOIN keyword in the FROM clause. The WHERE clause represents the traditional join approach, whereas the JOIN keyword represents the ANSI join method. Chapter Objectives After completing this chapter, you should be able to do the following: ♦ Identify a Cartesian join ♦ Create an equality join using the WHERE clause ♦ Create an equality join using the JOIN keyword ♦ Create a non-equality join using the WHERE clause ♦ Create a non-equality join using the JOIN...ON approach ♦ Create a self-join using the WHERE clause ♦ Create a self-join using the JOIN keyword ♦ Distinguish an inner join from an outer join ♦ Create an outer join using the WHERE clause ♦ Create an outer join using the OUTER keyword ♦ Use set operators to combine the results of multiple queries Instructor Notes Cartesian Joins Cartesian joins are rarely used in the real world unless a user needs to view every possible combination of rows. In most cases, a Cartesian join is the result of accidentally not including the join condition in a query. Troubleshooting Tip Demonstrate the results of including two tables in the FROM clause of a query with no join condition. Quick Quiz 1. What can cause a Cartesian join? ANSWER: Forgetting to include a join condition Oracle 12c: SQL 9-3 2. What keyword is used in the FROM clause to intentionally create a Cartesian join? ANSWER: CROSS JOIN 3. If one table contains 12 rows and the second table contains 6 rows, a Cartesian join will result in how many rows? ANSWER: 72 Equality Joins An equality join is the type of join most often needed. It requires a value in the row of one table to match a value in a row contained in the other table. In other words, the tables involved share a common column. When created with the WHERE clause, the “equal to” operator must be used to create the joining condition. When the NATURAL JOIN keyword is used in the FROM clause, table aliases cannot be assigned. The JOIN…USING keywords are required when the tables being joined have more than one common column. The JOIN…ON keywords are used with equality joins that do not share the same named column, non-equality, and self joins. There will always be one less joining condition than there are tables to be joined. Count the number of tables and number of join conditions as a quick check of a completed query containing a join. Troubleshooting Tip Highlight that the NATURAL JOIN is often not used, as same- named columns may not always represent common data columns to be used in a join. For example, two tables may have a column named TYPE; however, the column may represent two entirely different data items. Also, table column modifications could lead to unexpected join operations if close attention to related table column names is not considered. Troubleshooting Tip Demonstrate the type of error that will occur if table aliases are assigned in a SELECT statement that joins tables using the NATURAL JOIN or JOIN USING keywords. Quick Quiz 1. What operator is used to create an equality join in the WHERE clause? ANSWER: Equal sign Oracle 12c: SQL 9-4 2. When is it appropriate to use the NATURAL JOIN keywords? ANSWER: When the tables being joined share common columns with the same names and definitions 3. What is another method to accomplish an ANSI join when the two tables involved share common column names and definitions? ANSWER: JOIN … USING 4. When is it appropriate to use the JOIN…ON keywords? ANSWER: When the tables being joined do not have a commonly named and defined column or do not contain equivalent data—allows a condition for the join to be specified 5. What is the purpose of creating an equality join? ANSWER: To reconstruct equivalent data that is stored in separate tables Non-Equality Joins Non-equality joins are used when related data are not equivalent. This type of join is commonly used when searching for freight prices, ideal body weight, or any type of data that is based on a range of values. The key is to make certain the values in the ranges are mutually exclusive or do not overlap. Troubleshooting Tip Highlight the JustLee Books promotion table, which uses book retail value ranges to determine customer gifts. Quick Quiz 1. What is the purpose of a non-equality join? ANSWER: To reconstruct data stored in separate tables that do not contain equivalent values 2. How is a non-equality join constructed in the WHERE clause? ANSWER: Using a condition that does not have an “equal to” relationship 3. What keywords can be used to construct a non-equality join in the FROM clause? ANSWER: Only the JOIN…ON keywords 4. Why can’t the NATURAL JOIN or JOIN…USING keywords be used to construct a non- equality join? ANSWER: They both have an implied “equal to” relationship. Oracle 12c: SQL 9-5 5. When joining more than two tables in the WHERE clause, what logical operator is used to link the conditions? ANSWER: AND Self-Joins Sometimes, data may need to reference other data contained in the same table—two columns within the same table have a relationship. In this case, the software is “tricked” into believing that two copies of the same table exist by assigning two different table aliases to the same table. As an example, this type of join is used in medical offices where patients have dependents on their insurance policy that are also patients. Troubleshooting Tip Ensure that students understand how self-joins work by using the column names to identify which copy of the table contains the displayed column. Quick Quiz 1. When is a self-join appropriate? ANSWER: When the data needed for the join is contained in other rows within the same table 2. How is Oracle 12c “tricked” into creating a self-join? ANSWER: Two copies of the same table are referenced, but each copy is identified through different table aliases. 3. What JOIN keywords can be used to create a self-join? ANSWER: Only the JOIN…ON or JOIN…USING keywords; in either case, at least one table alias must be created. 4. How can you identify whether a query contains a self-join and not some other type of join? ANSWER: The same table name will be listed twice in the FROM clause. Outer Joins Inner joins like equality, non-equality, and self-joins require that equivalent values exist in each table. In some cases, it may be necessary to also display rows that do not have a match in the corresponding table. Basically, a NULL row is created in the deficient table and is then matched with the “dangling” row. Oracle 12c: SQL 9-6 Troubleshooting Tip Ensure students understand that a join will drop nonmatching rows by default. Troubleshooting Tip Issue sample queries using the outer join operator and again using the OUTER JOIN keyword. Make certain the student can distinguish between RIGHT and LEFT outer joins using each method. Troubleshooting Tip In previous versions of Oracle an error would be raised if you attempted to assign the outer join operator on the same table in more than one join operation. Quick Quiz 1. How is an outer join different from an inner join? ANSWER: An inner join only includes rows that have a matching value in each table; an outer join will include unmatched rows. 2. What operator is used to create an outer join in the WHERE clause? ANSWER: (+) 3. What type of outer join can be created in the FROM clause that cannot be created in the WHERE clause? ANSWER: A full outer join 4. What is a full outer join? ANSWER: Allows a user to display unmatched rows from each table 5. When an outer join is created in a WHERE clause, the outer join operator is placed next to which table? ANSWER: The table that should have the NULL rows inserted so they can be matched with the “unmatched” rows in the other table Set Operators Oracle 12c: SQL 9-7 In some cases, the only way to find a solution is to combine the results of two different queries. Set operators can be used to add the results of several queries or to alter the results of the first query based on the results returned by another query. Oracle 12c: SQL 9-8 Quick Quiz 1. Where are set operators used? ANSWER: To combine the results of two or more queries 2. What is the difference between the UNION and UNION ALL set operators? ANSWER: The UNION set operator suppresses duplicates, whereas the UNION ALL set operator does not 3. What is the purpose of the UNION set operator? ANSWER: The UNION set operator is used to return the results of both queries. 4. What is the purpose of the INTERSECT set operator? ANSWER: The INTERSECT set operator will only display the results returned by both queries. 5. What is the purpose of the MINUS set operator? ANSWER: The MINUS set operator will subtract the results of the second query from the results returned by the first query. Discussion Questions 1. Might a user want to create a Cartesian join? 2. Discuss examples of when a user would need to create non-equality joins. Key Terms Cartesian join — Links table data so each record in the first table is matched with each individual record in the second table. Also called a Cartesian product or cross join. column alias — Another name substituted for a column name. A column alias is created in a query and displayed in the results. column qualifier — Indicates the table containing a referenced column. common column — A column that exists in two or more tables and contains equivalent data. equality joins — Links table data in two (or more) tables having equivalent data stored in a common column. These joins might also be called equijoins, inner joins, or simple joins. inner joins — Joins that display data if there were a corresponding record in each table queried. Equality joins, non-equality joins, and self-joins are all classified as inner joins. non-equality join — Links data in two tables that do not have equivalent rows of data. Oracle 12c: SQL 9-9 outer join — Links data in tables that do not have equivalent rows. An outer join can be created in either the WHERE clause with an outer join operator (+) or by using the OUTER JOIN keywords. outer join operator — The plus (+) symbol enclosed in parentheses, used in an outer join operation. self-join — Links data within a table to other data within the same table. A self-join can be created with a WHERE clause or by using the JOIN keyword with the ON clause. set operators — Combine the results of two (or more) SELECT statements. Valid set operators in Oracle 12c are UNION, UNION ALL, INTERSECT, and MINUS. table alias — A temporary name for a table, given in the FROM clause. Table aliases are used to reduce memory requirements or the number of keystrokes needed when specifying a table throughout the SQL statement.","libVersion":"0.2.3","langs":""}