{"path":"Subjects/COS3711 - Advanced Programming/Unsorted/SORT/Prev Sem/COS3711/drive-download-20200416T190041Z-001/Exam Papers/Memo/2015-Jun-E.pdf","text":"UNIVERSITY EXAMINATIONS UNlVERSITEITSEKSAMENS UNlSAI~ Duration 2 Hours COS3711 ADVANCED PROGRAMMING EXAMINATION PANEL AS APPOINTED BY THE DEPARTMENT Closed book examination May/June 2015 80 Marks This examination question paper remams the property ot the Umvers,ty o1 South Afnca and may not be removed from the examination venue EXAMINATION PANEL. FIRST: MR CL PILKINGTON SECOND· EXTERNAL: Instructions MS A THOMAS MR K HALLAND DR L MARSHALL (UNIVERSITY OF PRETORIA) 1 Answer all questions 2 All rough work must be done 1n your answer book 3 The mark for each question 1s gJVen in brackets next to each question 4 Please answer questions 1n order of appearance This exam1nat1on paper consists of 6 pages Good luck' [TURN OVER] 2 COS3711 May/June 2015 Question 1 [20 marks] The MVC design pattern 1s an incredibly common pattern, and 1s often suggested as the design pnnc1ple for designing a software solution 1 1 What 1s a design pattern, and give one of ,ts benefits? (2) (2) (3) 1 2 Describe what 1s understood by the term anti-pattern 1 3 Describe the MVC design pattern 1 4 How does the controller part of the MVC pattern compare with the way the Qt 1 5 framework handles the MVC approach to software design? (2) What are the QStandarditemModel work with? differences between QAbstractListModel and m terms of using them and the data structure that they can (5) 1 6 Consider the class det1mt1on given below It 1s intended to be a model class that 1s used to store a 11st of plant species that can be found 1n a particular national park class PlantListModel { } , public explicit PlantListModel(QObJect *parent= O), int rowCount(const QModelindex &) const, QVariant data(const QModellndex &index, int role) const, QVariant headerData(int section, Qt Orientation orientation, int role) Const, bool setData(const QModellndex &index, const QVariant &value, int role) , Qt ItemFlags flags(const QModelindex &index) consL, bool removeRows(int row, int count , canst QModellndex &parent), void add(QString r), // used to add a row to the model 1 6 1 Modify the def1nit1on above so that 1t can be used as a sub-class of QAbstractL1.stModel that stores the 11st of plant species 1n an appropriate contamer You need only write down the Imes of code that you change or add (2) 1 6 2 Given the partial 1mplementat1on of the data ( ) function below, modify 1t so that 1t uses the class def1mt1on that you mod1f1ed in 1 6 1 It should only consider data that will be viewed 1n the form of text You only need to write the code that you add to the function (2) QVariant Species data(const QModelindex &index, int role) const { if (•index isValid()) return QVariant() , // add code here return QVariant(), (TURN OVER] 3 1 6 3 Describe the purpose of the flags (} function Question 2 COS3711 May/June 2015 (2) [12 marks] Consider the following code that defines and implements a Person class and uses 1t 1n a ma 1.n ( ) function 1 //person.h 2 class Person 3 { 4 Q_PROPERTY(QString name READ getName WRITE setName) 5 Q_PROPERTY(QDate date READ getDate WRITE setDate) 6 public 7 Person(); 8 Person(QString n, QDate d), 9 void setName(QString n), 10 void setDate(QDate d), 11 QString getName() canst; 12 QDate getDate() canst, 13 private· 14 QString name, 15 QDate birthDate, 16 }; 17 18 //person.cpp 19 Person Person() name(\"Unknown\"),birthdate(QDate(l,1,1900)) {} 20 Person :Person(QString n, QDate d) name(n), birthDate(d) {} 21 void Person .setName(QString n) { 22 name= n; 23 } 24 void Person .. setDate(QDate d) { 25 birthdate = d, 26 } 27 QStr1.ng Person :getName() canst { 28 return name, 29 30 QDate Person: getDate() canst { 31 return birthDate, 32 } 33 34 //main.cpp 35 QStringL1st returnObJect(Person *p) { 36 II add code here 37 38 39 int main() { 40 Perso n *p = new Person, 41 p->setProperty(\"name\" , \"To be advised\"), 42 p- >setProperty(\"phone\", 11 099 111 222 2 \"), 43 QStringL1st properties= returnObJect(p) , 44 return O, 45 } 2 1 What do you understand by the tern, reflective programming? (1) [TURN OVER] 4 COS3711 May/June 2015 2 2 Assuming that all the necessary pre-processor d1rect1ves are included, would the Person class defined above be reflective 1n the Qt framework? Explain why or why not (3) 2 3 Assuming that the class Person above 1s reflective and grven the statements m the main () functron, explain the difference the following two lrnes of code (lrnes 41 and 42) would have on the Person obJect (4) p- >Set Property (\"name\", \"To be advised\") , p->setProperty(\"phone\", \"099 111 2222\"), 2 4 The QStringList returnObJect (Person *p) function above (lines 35 to 37} has no 1mplementat1on Briefly descrrbe the basic steps that need to be taken in this functron to ensure that all the property names and values of the obJect 1t 1s examining wrll be contained in the QStringList that 1t returns You are not expected to write the code to do this (4} Question 3 [8 marks] Qt provides various ways of valrdating input 3 1 Why would you want to create your own custom subclass of QValidator? (1} 3 2 Given the subclass of QValidator below, wnte the code for the validate () function so that 1t will use the regular expression passed to the constructor to determrne 1f the text passed 1s • valid (the text passed meets the requirements of the regular expression exactly), • almost valrd (the text passed contains text that can be matched by the regular expression), or • not vahd (the text passed does not contain any text that meets the requirements of the regular expression) (5) class Checker public QValidator { r public Checker(QRegExp reg), QValidator State validate(QString & s, int&) canst, private QRegExp reg, 3 3 Describe the type of text that would be accepted by the following regular expressron Note that the s rs rn uppercase (2) \\S+(ll2) [TURN OVER] 6 COS3711 May/June 2015 6 2 What are the encapsulation requirements of a class when applying the Memento pattern? (2) 6 3 The following questions are about the caretaker class in the classic Memento pattern 6 3 1 What objects does Caretaker hold? ( 1 ) 6 3 2 Can caretaker save the state of the objects that 1t holds to a file? Explain your answer (2) 6 4 Given below 1s the Foo class class Foo { } , public Foo(QString s, inti) rn_String(s), rn_Int(i) {} private QString rn_String, int rn_Int, (6) Implement FooMemento that follows the Memento class in the classic Memento pattern Question 7 7 1 XML 1s a class of file formats that 1s understandable by machines 7 1 1 Explain the purpose of the QXmlStreamWriter class 7 1 2 Name three XML parsers available in the Qt framework [10 marks] ( 1) (3) 7 2 The following code fragment uses programming constructs in the Qt framework to support concurrency using threads classA o bJectA, QThread tA, o bJe c tA rnoveToThread(&tl) , 7 2 1 Wnte the first line of the class def1nit1on (that 1s, the classHead) of classA (1) 7 2 2 Wnte the code to ensure that when tA 1s started, the function doWo rk ( ) of clas s A 1s executed State the assumptions you have made (3) 7 3 Briefly explain the purpose of the classes QTcpSocket and QTcpserver w1th1n the context of networking using TCP (2) © UNISA2015","libVersion":"0.2.3","langs":""}