{"path":"UNISA/98906 - BSc Science in Computing/INF3707 - Database Design and Implementation/Unsorted/INF3707/INF3707 Exam pack/Exam Shit/Materials/Slides/Orcl12_SQL_IM_ch06.pdf","text":"Oracle 12c: SQL 6-1 Chapter 6 Additional Database Objects At a Glance Instructor’s Notes ♦ Chapter Overview ♦ Chapter Objectives ♦ Instructor Notes ♦ Troubleshooting Tips ♦ Quick Quizzes ♦ Discussion Questions ♦ Key Terms Oracle 12c: SQL 6-2 Chapter Overview The chapter examines the use of sequences, indexes, and synonyms in an organization. Students will need the CREATE SEQUENCE privilege to create sequences, the CREATE SYNONYM privilege to create private synonyms, and the CREATE PUBLIC SYNONYM privilege to create PUBLIC synonyms. If the students are sharing a common database, only one student will be able to create the PUBLIC synonym described in the chapter. An alternative is to assign a different number to the end of the PUBLIC synonym name for each student, or an error message will be returned when the second student attempts to create the synonym. Chapter Objectives After completing this chapter, you should be able to do the following: ♦ Define the purpose of a sequence and explain how it can be used in a database ♦ Use the CREATE SEQUENCE command to create a sequence ♦ Explain why gaps might appear in integers generated by a sequence ♦ Call and use sequence values ♦ Use sequences in DEFAULT column settings ♦ Identify which options can’t be changed by the ALTER SEQUENCE command ♦ Delete a sequence ♦ Use an Identity column rather than a sequence for primary key column population ♦ Create indexes with the CREATE INDEX command ♦ Explain the main index structures: B-tree and bitmap ♦ Verify index use with the explain plan ♦ Describe variations on conventional indexes, including a function-based index and an index organized table ♦ Verify index existence via the data dictionary ♦ Rename an index with the ALTER INDEX command ♦ Remove an index with the DELETE INDEX command ♦ Create and remove a public synonym ♦ Create and remove a public synonym Instructor Notes Sequences Sequences are widely used to generate primary keys, such as account numbers, and for internal control purposes. When a sequence is used to generate account numbers, most organizations will try to provide some diversity among the number so that a customer does not accidentally access another account. For example, if an individual has a credit card number, or even a Social Oracle 12c: SQL 6-3 Security number, that is only one digit different than another number assigned to someone else, that individual could enter the number incorrectly. Using a prime number to increment the sequence values can diversify the numbers generated by a sequence. For example, increment four digit numbers by seven, or six digit numbers by 53. Identify all of the options available with the CREATE SEQUENCE command and the typical use of a sequence in an INSERT statement. Identify using sequences in DEFAULT column values is a new feature in Oracle 12c. Oracle 12c introduces identity columns which may be used for primary key value generation as an alternative to using a sequence. Troubleshooting Tip Reference the DUAL table to demonstrate that a sequence value is generated by NEXTVAL. Repeat this process several times. Then use the CURRVAL pseudocolumn to identify the last value generated. Make certain that the students understand that using CURRVAL does not generate another sequence value. Oracle 12c: SQL 6-4 Troubleshooting Tip Highlight that none of the options need to be included in a CREATE SEQUENCE command, as all of the default values will be used. Have students identify the default value for each of the sequence options. Quick Quiz 1. How does a user instruct a sequence to generate an integer? ANSWER: The user references NEXTVAL. 2. How does Oracle 12c “know” which table the sequence is used for? ANSWER: It doesn’t; the integers generated by a sequence can be used in any table or view. 3. Which parameter cannot be changed by the ALTER SEQUENCE command? ANSWER: The START WITH value (or any parameter that would nullify a previously generated integer) 4. If you drop a sequence, what happens to the values previously generated by the sequence? ANSWER: Nothing, they are not affected. 5. How can you use a sequence to generate a number with two decimals? ANSWER: A sequence only generates integers. An integer can be divided by 100 to create decimals. Indexes An index is always implicitly created for PRIMARY KEY and UNIQUE constraints, allowing Oracle server to quickly validate a value being entered in the specified column. An index can be explicitly created to speed up row retrieval. However, indexes always slow down DML operations because both the table and the index must be referenced for each execution. In addition, indexes are typically not beneficial if more than 5% of the rows will be returned by a query. A variety of index types exist, including B-tree, bitmap, and function-based indexes. Regardless of the type of index created, the index goal is to improve the speed of data retrieval by reducing the number of rows that must be searched to check a condition. Oracle 12c: SQL 6-5 Troubleshooting Tip Identify the ROWID value, which represents the physical row address in the database. Demonstrate a query that displays the ROWID values for a set of rows. Troubleshooting Tip Demonstrate that an index implicitly created due to a PRIMARY KEY or UNIQUE constraint cannot be deleted if the constraint is valid. Quick Quiz 1. When does Oracle 12c automatically create indexes? ANSWER: When a PRIMARY KEY or UNIQUE constraint is created 2. Why would a user create an index? ANSWER: To speed up retrieval of data 3. When is it not beneficial to use an index? ANSWER: If there are a lot of DML operations or if queries return more than 5% of the table contents Oracle 12c: SQL 6-6 4. How would you modify a function-based index? ANSWER: Indexes cannot be modified; they must be dropped and re-created. 5. How can a user determine if a table has an index? ANSWER: Query the USER_INDEXES view (can use the DBA_ or ALL_ prefixes also) Synonyms Any user can reference a PUBLIC synonym. However, the user must have the necessary privileges to access the data contained in the underlying table(s). Only a user with DBA privileges can drop a PUBLIC synonym. When attempting to identify an object name, Oracle 12c first searches for a valid object in the current schema, then for private synonyms, and then for a PUBLIC synonym. Quick Quiz 1. What is the purpose of a private synonym? ANSWER: Allows users to reference objects through different names, usually a simplified name 2. What is the purpose of a public synonym? ANSWER: Allows users to reference objects belonging to a specific user without needing to identify the schema 3. How does a user create a public synonym? ANSWER: Include the PUBLIC keyword in the CREATE SYNONYM command 4. Can a private and public synonym exist with the same name? ANSWER: Yes 5. Can the user who created a public synonym drop the synonym? ANSWER: Only if the user has the DBA privilege Discussion Questions 1. Give specific examples of how sequences can be used for internal control purposes in an organization. 2. How would you decide whether an index should be created for a table? Oracle 12c: SQL 6-7 Key Terms application cluster environment — A high-volume work environment in which multiple users simultaneously request data from a database. data dictionary — Oracle 12c stores all information about database objects in this \"dictionary.\" Stored information includes objects' names, types, structures, owners, and the identity of users who have access to each object. database object — A defined, self-contained structure in Oracle 12c. Database objects include tables, sequences, indexes, and synonyms. dynamic view — Used to access statistics relating to the database’s performance. See view. function-based index — Can be used when a query is based on a calculated value or a function. See index. index — A separate database object that stores frequently referenced values so they can be quickly located. An index can either be created implicitly by Oracle 12c or explicitly by a user. private synonym —An alias used by an individual to reference objects owned by that individual. See synonym. public synonym — An alias that can be used by others to access an individual’s database objects. See synonym. sequence — A database object that generates sequential integers that can be used for an organization’s internal controls. A sequence can also serve as a primary key for a table. synonym — An alternative name given to a database object with a complex name. Synonyms can be either private or public.","libVersion":"0.2.3","langs":""}