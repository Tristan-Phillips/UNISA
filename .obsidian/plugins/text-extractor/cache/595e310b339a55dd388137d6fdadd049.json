{"path":"Subjects/INF3707 - Database Design and Implementation/Unsorted/INF3707/INF3707 Exam pack/Exam Shit/Materials/Slides/Orcl12_SQL_IM_ch03.pdf","text":"Oracle 12c: SQL 3-1 Chapter 3 Table Creation and Management At a Glance Instructor’s Notes ♦ Chapter Overview ♦ Chapter Objectives ♦ Instructor Notes ♦ Troubleshooting Tips ♦ Quick Quizzes ♦ Discussion Questions ♦ Key Terms Oracle 12c: SQL 3-2 Chapter Overview When a table is created, it must be assigned a name and at least one column must be defined. The name of the table must be unique. Each column within a table is assigned a column name and data type. The data type specifies what type of data will be stored in that column. In most cases, the width of the column can also be stated. In addition, a table can be created based on data retrieved through a subquery. Once a table has been created, the structure of the table can be changed using the ALTER TABLE command with the appropriate clause. To change the name of an existing table, the RENAME command is used. To execute the SQL commands introduced in this chapter, the students will need the system privilege CREATE TABLE. Because each student will retain ownership of the created tables, he or she will automatically have the object privileges associated with each table created. Chapter Objectives After completing this chapter, you should be able to do the following: ♦ Identify the table name and structure ♦ Create a new table using the CREATE TABLE command ♦ Use a subquery to create a new table ♦ Add a column to an existing table ♦ Modify the definition of a column in an existing table ♦ Delete a column from an existing table ♦ Mark a column as unused and then delete it at a later time ♦ Rename a table ♦ Truncate a table ♦ Drop a table Instructor Notes Table Design Before creating a table, the user should examine what type of data it will contain. Based on the normalization process used to determine the table contents, the actual data values to be stored in the table to determine the data type and width to be assigned to each column. The main datatypes presented in this text include VARCHAR2, CHAR, NUMBER, and DATE. Students will need to remember that table names must be unique, as must the column names within each table. Be aware that the naming rules, including the restriction on using reserved words, are quite often overlooked by those new to databases. Virtual column capability was added in Oracle 11g. Virtual columns can be defined as expressions referencing other column values. Extended data types is a new feature introduced with Oracle 12c which enables the storage of additional data bytes in specific data types such as VARCHAR2. Oracle 12c: SQL 3-3 Troubleshooting Tip Explain the problems that can occur if the tables are created “on the fly” without putting thought into the content of the tables are how they will be used— modification problems, cascading problems with applications programs that reference the table, and so on. Quick Quiz 1. A table name can consist of a maximum of how many characters? ANSWER: 30 2. What is the storage size for a DATE column? ANSWER: Seven bytes 3. A column name can consist of a maximum of how many characters? ANSWER: 30 4. Can a table or column name begin with a number? ANSWER: No 5. Is SYSDATE7 a valid table name? ANSWER: Yes, only because of the number 7, which makes it different from assigning the reserve word SYSDATE as the table name Table Creation The CREATE TABLE statement is used to add a new table to the database. This statement requires the table name, column names, and columns datatypes. Virtual columns were introduced in Oracle 11g. A DEFAULT option can be used to set an initial value on a column. A typical use of the DEFAULT option is to set a column to the current date so the user will not need to enter this data. Point out the optional schema qualification for the table name. Be sure students understand the concept of a schema. It is important for a database developer to be able to verify what tables exist and the structure of each. The USER_TABLES data dictionary view allows users to produce a list of tables that have been created. The DESCRIBE command displays the structure of a specific table. Invisible columns are a new option available in Oracle 12c. You can now create or alter a column to make it hidden so it is not visible in basic statement such as a “SELECT *” query. Oracle 12c: SQL 3-4 Quick Quiz 1. Which command is used to create a table? ANSWER: CREATE TABLE command 2. What is the maximum number of columns you can have in a database table? ANSWER: 1,000 3. How can a default value be assigned to a column during table creation? ANSWER: Use the DEFAULT keyword after defining the datatype for the column. 4. What command can be used to view the structure of a table? ANSWER: DESCRIBE 5. Is the DESCRIBE command a SQL command or a SQL*Plus command? ANSWER: SQL*Plus command Table Creation through Subqueries When a new table is being created to store data that is already contained within the database, the table can be created using a subquery. The AS keyword is used to specify that a subquery will be included in the CREATE TABLE command rather than a column definition list. It should be stressed that the purpose of normalization is to reduce data redundancy. However, organizations will perform this type of procedure to archive older transactions that are no longer needed but should be retained for historical analysis or for quarter/annual reports, etc. Quick Quiz 1. What command is used to create a table that will populate the new table using data from an existing table? ANSWER: CREATE TABLE command 2. If the CREATE TABLE command is using a subquery to create a table, what keyword must be included in the command? ANSWER: AS 3. If a table is being created with a subquery, can the names of the columns be changed? ANSWER: Yes, by specifying a column list after the name of the new table 4. How is the structure of the table (i.e., column datatype and width) specified when creating a new table with a subquery? ANSWER: The datatype and width are copied from the existing table. Oracle 12c: SQL 3-5 5. If the subquery contains a group function or a mathematical expression, what is required in terms of a column name? ANSWER: A column alias can be assigned to the function or expression in the subquery or column names can be specified after the name of the new table. Modifying Existing Tables The ALTER TABLE command can be used to change the datatype assigned to a column, to change the size of a column, and to drop a column. Of course, there are some restrictions on the type of changes that are allowed. These restrictions are presented in this section of the chapter. Be aware that if data rows already exist in a table, then adding a new column will result in the column containing a NULL value for the existing rows. The name of the table is changed using the RENAME command, and the table is truncated using the TRUNCATE TABLE command. Truncation may be desired to clear out test data when moving tables from testing to production. Troubleshooting Tip Create a table using a subquery. Then demonstrate types of changes that are allowed and those that are not allowed based on the contents of the new table. Quick Quiz 1. What clause is included in the ALTER TABLE command to add a column to an existing table? ANSWER: ADD 2. What clause is included in the ALTER TABLE command to change the size of a column in an existing table? ANSWER: MODIFY 3. What impact does changing the DEFAULT value of a column have on existing values in a table? ANSWER: None, it only affects new data that will be added to the table after the change is made. 4. What clause is used with the ALTER TABLE command to remove a column that is no longer needed from a database table? ANSWER: DROP COLUMN 5. How do you change the name of an existing table? ANSWER: Use the RENAME command Oracle 12c: SQL 3-6 Deleting a Table The DROP TABLE command is used to remove a table from a database. It should be pointed out that data is deleted from a table, while a database object is dropped from the database. Oracle10g introduced the recycle bin, which can contain dropped tables. If the PURGE option is used in a DROP TABLE statement, then the table is not moved to the recycle bin. If the PURGE option is not used, the table will be moved to the recycle bin. However, you cannot depend on the recycle bin entirely. Depending on the space assigned to the recycle bin, previously dropped tables will be removed from the recycle bin to make room for more recent deletions. A FLASHBACK statement can be used to recover a table from the recycle bin. Quick Quiz 1. What command is used to remove a table from an Oracle 12c database? ANSWER: DROP TABLE 2. Can a table be retrieved after it has been dropped? ANSWER: No, it no longer exists. 3. How does the DROP TABLE command differ from the TRUNCATE TABLE command? ANSWER: With the TRUNCATE TABLE command, only the data is removed, whereas the DROP TABLE command deletes the data and removes the table as well. Discussion Questions 1. Discuss reasons why a table would need to be added to a database that has already undergone the development and design process. 2. Discuss problems that can occur if a table that is referenced by other users is suddenly dropped. Key Terms data definition language (DDL) — Commands, basically SQL commands, that create or modify database tables or other objects. database object — A defined, self-contained structure in Oracle 12c. Database objects include tables, sequences, indexes, and synonyms. datatype — Identifies the type of data Oracle9i will be expected to store in a column. schema — A collection of database objects owned by one user. By grouping objects according to the owner, multiple objects can exist in the same database that have the same object name. Oracle 12c: SQL 3-7 virtual column — A column value that is automatically generated based on the expression used to define the column.","libVersion":"0.2.3","langs":""}