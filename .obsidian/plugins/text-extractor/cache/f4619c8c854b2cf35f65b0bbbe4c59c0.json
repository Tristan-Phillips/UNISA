{"path":"Subjects/COS3711 - Advanced Programming/Unsorted/SORT/Prev Sem/COS3711/drive-download-20200416T190041Z-001/Exam Papers/Memo/2014-Jun-E.pdf","text":"UNIVERSITY EXAMINATIONS UNIVERSITEITSEKSAMENS UN1SAJ:;: Duration 2 Hours COS3711 ADVANCED PROGRAMMING EXAMINATION PANEL AS APPOINTED BY THE DEPARTMENT Closed book examination May/June 2014 100 Marks This examination question paper remains the property of the University of South Africa and may not be removed from the examination venue EXAMINATION PANEL: FIRST: MR CL PILKINGTON MS A THOMAS SECOND: MR K HALLAND EXTERNAL: MS L MARSHALL (UNIVERSITY OF PRETORIA) Instructions 1 Answer all questions 2 All rough work must be done 1n your answer book 3 The mark for each question 1s given 1n brackets next to each question 4. Please answer questions m order of appearance. This exam1nat1on paper consists of 6 pages Good luck' [TURN OVER] 2 Question 1 Grven the code below, answer the questions that follow we,ghttracker h class WeightTracker { public void update(QDate d, float w), void display(), private }, QDate date, float weight, werghttracker cpp void WeightTracker update(QDate d, float w) { date'\" d, weight= w, void WeightTracker display() { QTextStream out(stdout), out << date toString () << \" \" << weight << \"kg\" << endl, main.cpp int main(int argc, char *argv[]) QCoreApplication a(argc, argv), QTextStream out(stdout), WeightTracker w, w update(QDate(2012, 12, 25), 74 5), w display () , w update(QDate currentDate(), 78 9), w display (), out<< endl << \"End\"<< endl, return a exec(), COS3711 May/June 2014 [33 marks] 1 1 Although this code does work, 1t suffers from a desrgn flaw Descrrbe thrs flaw and a possible solution (2) 1 2 Takrng this desrgn flaw rnto cons1derat1on, rewrrte the code so that when an rnstance's werght rs updated, 1t rs automatrcally displayed to the console You may add extra classes as necessary, and should make changes to the main () functron 1f required Do this without creating unnecessary coupling between classes Consider using rnter- obJect commurncatron techniques to answer this question (13) 1 3 Rewrite the Weight Tracker class (only the header frle) so that you will be able to use reflective programmrng techniques to access the properties of the class (5) [TURN OVER] 3 COS3711 May/June 2014 1.4 Suppose that your application has a Display class that 1s used to display the current values of the data members of a WeightTracker object to the console Using the code snippet below, write the code for the displayProperties () function that uses the reflective properties of the weightTracker class. You may not assume that you know what the properties of the weightTracker class are or how many properties there are WeightTracker* w = new WeightTracker, Display d; w->update(QDate(2012, 12, 25), 74 5); d.displayProperties(w), (8) 1.5 What 1s a dynamic property and how does 1t differ from the properties used in 1 3 and 1.4 above? (3) 1 6 Wnte code to add a dynamic property named comment to the WeightTracker* w object from 1 .4 above having the value improving (2) Question 2 [11 marks] Consider the code below that uses Qt's model-view framework to store and present module marks and answer the questions that follow. You may assume that all the necessary pre- processor d1rect1ves have been included 01 int main(1nt argc, char *argv[]) 02 { 03 QAppl1cat1on a(argc, argv), 04 05 QStandarditemModel* model, 06 model= new QStandarditemModel(), 07 QStr1ngL1st headerRow, 08 headerRow append (\"Module\"), 09 headerRow append (\"Mark\") , 10 model->setHorizontalHeaderLabels(headerRow) , 11 12 QTableV1ew* tableV1ew = new QTableV1ew , 13 // connect the model and the view 14 // ensure that the user can click on the column header to sort 15 tableV1ew->setitemDelegateForColumn(l, new RatingDelegate()), 16 17 QStr1ng module= QStr1ng( 11 COS3711\") , 18 int mark= 67, 19 QL1st<QStandarditem*> row, 20 /•data type•/ *moduleitem = //construct the instance 21 /•data type* / *markitem = //construct the instance 22 markitem->setData(QStr1ng number(mark), Qt DisplayRole), 23 // add data to the list in preparation for adding to the model 24 // update the model with the new data 25 26 table V1ew->show(), 27 28 return a exe c (}, 29 [TURN OVER] 5 4 1 The following line of code gives a compiler error Why? Shape* s = new Shape(), COS3711 May/June 2014 ( 1 ) 4 2 The statement Shape2* s = new circle () , also gives a comprler error Change the right hand side of the assignment statement to eliminate the compiler error (1) 4 3 Write code to implement the Factory method design pattern to facilitate the creation of concrete Shape obJects You do not have to include any pre-processor d1rect1ves You may also combine the class def1n1t1on and ,ts 1mplementat1on (7) 4 4 Wnte a few Imes of code to demonstrate how a client can use the factory (as implemented 1n 4 3) to obtain and draw a circle object (3) 4 5 What rs the purpose of the Factory method design pattern? (2) 4 6 Assume we only need one factory to generate shapes Which desrgn pattern can be applied to the factory to achreve this? (1) 4 7 Assume that the Shape hierarchy 1s used m a graphics appl1cat1on Explain what feature can be added 1n this apphcat,on 1f the Memento pattern rs applied to the Shape hierarchy (2) 4 8 The classic Memento pattern consists of three classes· Originator, Memento and Caretaker Apply this design pattern for the Shape hierarchy and present the design ,n a UML diagram Assume the Caretaker 1s a drawing appllcat,on and hence need not be included ,n the UML diagram (1 O) Question 5 5 1 Refer to the UML diagrams and the function 1mplementat1ons below Exam E:xamToXml - code QStnng - marks mt - doc QDomDocument - root QDomElement + Exa.m(c QStnng m mt) + getCodeO - QStnng + getl\\.farks() mt + Exam ToXmlO + addExam(e Exam) + getDocO QDomDocument ExarnToXrnl ExamToXml() { root= do c cr e at e Ele ment ( \"exam1nat1ons\") , doc appendCh1ld (ro o t ), [23 marks] [TURN OVER] 6 void ExamToXml addExam(Exam e) { QDomElement examElernent = doc,createElement(\"exam\"), root appendChild(exarnElement), QDornElement codeElement = doc createElement(\"code 11 ), QDomText codeText = doc createTextNode(e getCode () ), exarnElement appendChild(codeElement), codeElement appendChild(codeText), QDomElement marksElement = doc createElement(\"marks\"), QDomText marksText = doc createTextNode(QString number(e getMarks(), 10)), examElement appendChild(marksElement), marksElement appendChild(marksText), COS3711 May/June 2014 Wnte down the XML stored 1n doc when addExam () 1s invoked on an obJect of ExamToXml by passing an Exam obJect el (Exam el ( \"cos3711 11 , 100) ). (6) 5 2 Consider the code snippet below class Counter public QObJect{ Q_OBJECT public slots void startCounting(), }, The class Counter includes the counting logic 1n startCount1ng () Wnte lines of code to start the counting performed by a Counter obJect 1n a thread without changing the class def1nit1on (7) 5.3 List all the classes 1n the Qt framework you need to access the contents (such as hyperlinks and images) of a web page Briefly explain what the purpose of each class IS (6) 5 4 The following questions are based on the QUdpSocket class 5 4 1 When would you use the QUdpSocket class? 5 4 2 What 1s the purpose of the wri teDatagram () function? 5 4 3 What 1s the purpose of the function readyRead ()? ( 1) (1) (i) 5 4 4 Which Qt module should you include m your proJect file to use this class 1n your proJect? (1) © UNISA 2014","libVersion":"0.2.3","langs":""}